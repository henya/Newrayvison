<?php
$this->headTitle($this->headTitle);
$this->headMeta()
    ->appendName('description', $this->description)
    ->appendName('keywords', $this->keywords);
?>
<?php
$this->headScript()->prependFile($this->basePath('js/pages/index/scrollReveal.min.js'));
$this->headScript()->prependFile($this->basePath('js/pages/index/jquery.mousewheel.min.js'));
$this->headScript()->prependFile($this->basePath('js/pages/index/jquery.slimscroll.min.js'));
$this->headScript()->prependFile($this->basePath('js/pages/index/ddfullscreenslider.js'));
?>
<!--<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"  id="sp" data-backdrop="static"-->
<!--     style="top: 0%!important; z-index: 9999;background-color: #000000;">-->
<!--    <div class="modal-dialog modal-lg" role="document" style="width: 100%;height: 100%"  >-->
<!--        <div class="modal-content" style="height: 100px;text-align: center;line-height: 100px;font-size: 20px;background-color: #000!important;-->
<!--         color: #ffffff;width: 100%;height: 100%;position: relative" >-->
<!--            <div style="width:500px; height:100px;position:absolute;top:50%;left:50%;margin:-50px 0 0 -250px;">-->
<!--            <img src="--><?php //echo $this->basePath('img/screen.png')?><!--" style="display: inline-block; margin-right: 20px">-->
<!--            竖屏享受最佳浏览效果！-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
<script>
    window.addEventListener("onorientationchange" in window ? "orientationchange" : "resize", function() {
        if (window.orientation === 180 || window.orientation === 0) {
            $('#sp').modal('hide');
        }
        if (window.orientation === 90 || window.orientation === -90 ){
            $('#sp').modal({
                show: true
            });
        }
    }, false);
    function getBrowserInterfaceSize() {
        var pageWidth = window.innerWidth;
        var pageHeight = window.innerHeight;

        if (typeof pageWidth != "number") {
            //在标准模式下面
            if (document.compatMode == "CSS1Compat" ) {
                pageWidth = document.documentElement.clientWidth;
                pageHeight = document.documentElement.clientHeight;
            } else {
                pageWidth = document.body.clientWidth;
                pageHeight = window.body.clientHeight;
            }
        }

        return {
            pageWidth: pageWidth,
            pageHeight: pageHeight
        }
    }
    var BrowserSize = getBrowserInterfaceSize();
//    alert(BrowserSize.pageHeight)

</script>
<div class="main-container" id="index-page" >
    <section id="dowebok" class="dd_fullscreenslider">
        <div class="slidewrapper">
            <article class="slide" id="rayvision">
                <div class="container" style="width: 1200px;  height: 100%; margin: 0 auto;">
                <div class="first">
                        <div class="first_center" data-scroll-reveal> </div>
                    <div class="first_center_text" data-scroll-reveal>
                            <p>
                                RAYVISION VISUAL<br/>  CLOUD COMPUTING PLATFORM
                            </p>
                            <h3>RAYVISION</br>
                                视觉<span>云计算</span></br>服务平台</h3>
                            <span class="first_text">超85%CG工作室的选择</span>
                        </div>
                </div>
                </div>
                    <div id="container">
                        <video id="background_video" loop muted></video>
                        <div id="video_cover"></div>
                        <div id="overlay"></div>
                        <div id="video_controls">
                                      <span id="play">
                <!--                        <img src="play.png">-->
                                      </span>
                            <span id="pause">
                <!--                        <img src="pause.png">-->
                                      </span>
                        </div>

                    </div>
                <i class="ic_pagearr"></i>
            </article>

            <article class="slide second" id="rayvision2">
          <div class="container" id="second">
                  <div class="second_text" >
                      <img src="<?php echo $this->basePath('img/index/Render.png')?>">
             <h3>全球领先的云渲染平台</h3>
              <p>7天24小时服务 · 奥斯卡专业服务团队 · 随时可用 · 好莱坞级安全</p>
              <p>影视 · 动画 · 效果图 · 一站渲染</p>
              <a href="http://www.renderbus.com/" target="_blank">访问Renderbus官网</a>
              </div>
            <div class="second_img">
                <ul>
                    <li class="second_one">
                        <a class="second_img1"></a>
                        <div class="second_img1_info">
                            <p>创下近十亿的国产动画票房神话</p>
                        </div>
                    </li>
                    <li class="second_two"><a class="second_img2"></a>
                        <div class="second_img2_info">
                            <p>刷新中国电影票房新纪录</p>
                        </div>
                    </li>
                    <li class="second_three"><a class="second_img3"></a>
                        <div class="second_img3_info">
                            <p>荣获第86届奥斯卡最佳动画短片</p>
                        </div>
                    </li>
                </ul>
            </div>


          </div>
            </article>

            <article class="slide three"id="rayvision3">
                <div class="container" id="three">
                    <div class="three_text">
                        <img src="<?php echo $this->basePath('img/index/raysync.png')?>">
                        <h3>镭速企业级大文件传输</h3>
                        <p>完美解决客户跨国传输、远距离传输、大文件传输等问题</p>
                        <a href="https://www.raysync.io/" target="_blank">访问镭速官网</a>
                    </div>
                </div>

            </article>

            <article class="slide four" id="rayvision4">
              <div class="container" >
                  <div class="row">
                      <div class="col-md-3 col-sm-12 col-xs-12">&nbsp;</div>
                      <div class="col-md-6 col-sm-12 col-xs-12" style="padding: 0px" id="four-text">
                          <div class="four_text">
                              <img src="<?php echo $this->basePath('img/index/vivue_logo_w.png')?>">
                              <h3>更高效的审片协作平台</h3>
                              <p>随时随地解决视频上传 评审 团队协作问题</p>
                              <a href="https://www.vivue.io/" target="_blank">访问VIVUE官网</a>
                          </div>
                      </div>
                      <div class="col-md-3 col-sm-12 col-xs-12">&nbsp;</div>
                  </div>

                  <div class="page-footer" style="line-height: 0px;margin: 0 auto">
                      <footer>
                          <div class="foot">
                              <div class="row">
                                  <div class="col-md-3 col-sm-3 col-xs-12"></div>
                                  <div class="col-md-6 col-sm-6 col-xs-12">
                                      <div class="row font-talk" style="padding: 0 50px">
                                          <div class="col-md-3 col-sm-3 col-xs-3">
                                              <div class="wechatq">
                                                  <img src="<?php echo $this->basePath('img/common/wechat_q.png')?>">
                                              </div>
                                              <a href="javascript:void(0)"  class="wechat"></a>
                                          </div>
                                          <div class="col-md-3 col-sm-3 col-xs-3">
                                              <a href="http://www.weibo.com/renderbus" class="weibo" target="_blank"></a>
                                          </div>
                                          <div class="col-md-3 col-sm-3 col-xs-3">
                                              <a href="https://www.facebook.com/rayvision.inc" class="facebook" target="_blank"></a>
                                          </div>
                                          <div class="col-md-3 col-sm-3 col-xs-3">
                                              <a href="http://www.linkedin.com/company/rayvision" class="linkedin" target="_blank"></a>
                                          </div>
                                      </div>
                                  </div>
                                  <div class="col-md-3 col-sm-3 col-xs-12"></div>
                              </div>
                              <div class="row bottom-link">
                                  <div class="col-md-3 col-sm-3 col-xs-12"></div>
                                  <div class="col-md-6 col-sm-6 col-xs-12">
                                      <ul>
                                          <li><a href="<?php echo $this->url('about'); ?>">关于瑞云</a> <span class="link-line"></span></li>
                                          <li><a href="http://www.renderbus.com/news/main" target="_blank">新闻中心</a><span class="link-line"></span></li>
                                          <li><a href="<?php echo $this->url('case'); ?>">成功案例</a><span class="link-line"></span></li>
                                          <li><a href="http://www.rayvision.com/about.html#about-bottom"">联系我们</a><span class="link-line"></span></li>
                                          <li><a href="<?php echo $this->url('join-us'); ?>">加入瑞云</a></li>
                                      </ul>
                                  </div>
                                  <div class="col-md-3 col-sm-3 col-xs-12"></div>
                              </div>
                              <p class="recording">
                                  © 2017 深圳市瑞云科技有限公司 粤ICP备12028569号-2
                              </p>
                          </div>
                      </footer>

                  </div>
              </div>

            </article>
        </div>
    </section>
</div>
<script>
    (function () {

        if ( typeof window.CustomEvent === "function" ) return false;

        function CustomEvent ( event, params ) {
            params = params || { bubbles: false, cancelable: false, detail: undefined };
            var evt = document.createEvent( 'CustomEvent' );
            evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );
            return evt;
        }

        CustomEvent.prototype = window.Event.prototype;

        window.CustomEvent = CustomEvent;
    })();
    var fss;
    $(function() {
        fss = new ddfullscreenslider({
            sliderid: 'dowebok',
            addHash: false
        });
    });
    window.scrollReveal = new scrollReveal();

//    鼠标滚动动画出现事件
    if(document.attachEvent){
            $("#second").css({"margin-top":"0px","opacity":"1"})
            $("#three").css({"margin-top":"0px","opacity":"1"})
            $("#four-text").css({"margin-top":"0px","opacity":"1"})
            $(".page-footer").css({"bottom":"0px","opacity":"1"})
    }else {
        document.addEventListener('custSlideTo', function (event) {
            console.info('kitsch,event.detail.delta', event.detail.delta)
            var delta = event.detail.delta
            var selectedParent1 = $("#selected1").parent();
            var selectedParent2 = $("#selected2").parent();
            var selectedParent3 = $("#selected3").parent();
            var selectedParent4 = $("#selected4").parent();
            if (delta < 0) {
                if (selectedParent1.hasClass("selected")) {
//                console.info('kitsch:', '1')
                    $("#second").css({"margin-top": "0px", "opacity": "1"})
                }
                if (selectedParent2.hasClass("selected")) {
                    $("#three").css({"margin-top": "0px", "opacity": "1"})
//                console.info('kitsch:', '2')
                }
                if (selectedParent3.hasClass("selected")) {
                    $("#four-text").css({"margin-top": "0px", "opacity": "1"})
                    $(".page-footer").css({"bottom": "0px", "opacity": "1"})
//                console.info('kitsch:', '3')
                }
            }
            if (delta > 0) {
                if (selectedParent3.hasClass("selected")) {
                    $("#second").css({"margin-top": "0px", "opacity": "1"})
                }
                if (selectedParent4.hasClass("selected")) {
                    $("#three").css({"margin-top": "0px", "opacity": "1"})
                }
            }
        })}
    //键盘事件
    $(document).on('keyup',function (e) {
      var keyCode = e.keyCode;
      console.log(keyCode);
        var selectedParent1 = $("#selected1").parent();
        var selectedParent2 = $("#selected2").parent();
        var selectedParent3 = $("#selected3").parent();
        var selectedParent4 = $("#selected4").parent();
      if(keyCode === 40) {
          if (selectedParent1.hasClass("selected")) {
              $("#second").css({"margin-top": "0px", "opacity": "1"})
          }
          if (selectedParent2.hasClass("selected")) {
              $("#three").css({"margin-top": "0px", "opacity": "1"})
          }
          if (selectedParent3.hasClass("selected")) {
              $("#four-text").css({"margin-top": "0px", "opacity": "1"})
              $(".page-footer").css({"bottom": "0px", "opacity": "1"})
          }
      }
      if(keyCode === 38) {
          if (selectedParent3.hasClass("selected")) {
              $("#second").css({"margin-top": "0px", "opacity": "1"})
          }
          if (selectedParent4.hasClass("selected")) {
              $("#three").css({"margin-top": "0px", "opacity": "1"})
          }
      }


    });


</script>
<?php
$this->inlineScript()->appendFile($this->basePath('js/pages/index/bideo.js'));
$this->inlineScript()->appendFile($this->basePath('js/pages/index/main.js'));
?>


